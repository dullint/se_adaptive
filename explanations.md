# Solutions Engineer Take-home


## Introduction
For this take-home, you will devise a simple UX to assist in the critique+rewrite step of the [Constitutional AI](https://arxiv.org/pdf/2212.08073) paper from Anthropic. We recommend you take 30 minutes to an hour to skim the paper and better understand this step. 

Constitutional AI uses reinforcement learning from AI feedback to tune models to follow a set of human-written principles--collectively referred to as the constitution. In the critique+rewrite step, a teacher model critiques and rewrites an initial completion (generated by the student model) to better adhere to a given principle from the constitution. 


## Walk-through: prompting the teacher model

For example, let's start from the prompt `Hello!`. The student model generates the initial response `Hey there! How's it's going?`. However, our constitution specifies the principle `The assistant should answer like a pirate`. In the critique+rewrite step, the teacher model must explain why the initial response did not meet this principle, and propose a rewritten version. 

To steer the teacher model, it is provided with a few human-written/curated examples. For instance, a good critique might be:
```
The response failed to follow the pirate instruction, using casual modern language instead of pirate-specific terms. It lacked a rugged tone, nautical phrases, and commitment to the pirate role entirely.
```

Using this critique, a good rewrite would be:
```
Ahoy there, matey! How be the wind in yer sails today? Arrr, tell me what brings ye to these waters!
```

When critiquing and rewriting a new answer, the teacher model will be provided with these constitutional examples to demonstrate how the principles should be applied. For each principle in our constitution, we will need to provide a few well-crafted and vetted critique+rewrite examples


## Task: a tool to facilitate the creation of constitutional examples 

Your goal is to deliver a **simple tool that allows users to create critique+rewrite examples and observe how they affect the teacher's outputs**. You may choose to build this tool either with a simple UI (e.g., Streamlit/gradio) or in a terminal. 

To put your tool to the test, you are provided with a `dev.jsonl` file containing 20 examples of conversations to critique and rewrite. You will need to provide us with the critique+rewrite constitutional examples you would use with the following principle: ***Putting together the first letter of each sentence from the assistant's answer should spell "ADAPTIVE".***

You'll use GPT-4o as the teacher model. You will be provided separately with a key with $10 in API credits. 

This exercise is deliberately left open-ended: build whatever features you need to make the writing of constitutional examples as pleasant & efficient as possible for end-users. 


## Deliverables
- A (documented) tool enabling users to efficiently write critique+rewrite examples, and to observe the effect of these examples on a set of model completions;
- The examples you created using the tool for the principle above;
- A short write-up that explains how you addressed the take-home, both in terms of UX and your prompting approach.


## Nice to have
- Pydantic validation;
- LLM assistance to draft constitutional examples.
